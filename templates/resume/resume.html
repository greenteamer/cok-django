{% extends "base.html" %}
{% load static %}

{% block title %}{{ profile.full_name }} - Resume{% endblock %}
{% block description %}{{ profile.title }}{% endblock %}

{% block content %}
<!-- Resume Hero Section -->
<section class="Hero" style="min-height: auto; padding: var(--spacing-xl) 0 var(--spacing-lg);">
    <div class="Container">
        <div class="Hero__content" style="grid-template-columns: 1fr; gap: var(--spacing-md);">
            <div>
                <div class="StatusBadge">
                    <span class="StatusBadge__dot"></span>
                    Resume
                </div>
                <h1 class="Hero__title" style="font-size: 3rem; margin-bottom: var(--spacing-sm);">
                    {{ profile.full_name }}
                </h1>
                <p class="Hero__description" style="font-size: 1.25rem; margin-bottom: var(--spacing-md);">
                    {{ profile.title }}
                </p>

                <!-- Contact Information -->
                <div style="display: flex; gap: var(--spacing-md); flex-wrap: wrap; margin-bottom: var(--spacing-md); color: var(--color-text-secondary);">
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                            <polyline points="22,6 12,13 2,6"></polyline>
                        </svg>
                        <a href="mailto:{{ profile.email }}" style="color: inherit; text-decoration: none;">{{ profile.email }}</a>
                    </div>
                    {% if profile.location %}
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                            <circle cx="12" cy="10" r="3"></circle>
                        </svg>
                        <span>{{ profile.location }}</span>
                    </div>
                    {% endif %}
                    {% if profile.linkedin_url %}
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2z"></path>
                            <circle cx="4" cy="4" r="2"></circle>
                        </svg>
                        <a href="{{ profile.linkedin_url }}" target="_blank" rel="noopener noreferrer" style="color: inherit; text-decoration: none;">LinkedIn</a>
                    </div>
                    {% endif %}
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <a href="https://coreofkeen.com/resume" target="_blank" rel="noopener noreferrer" style="color: inherit; text-decoration: none;">https://coreofkeen.com</a>
                    </div>
                </div>

                <!-- PDF Export Button -->
                <div class="hide-on-print">
                    <button onclick="window.print()" class="Button Button--primary">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="7 10 12 15 17 10"></polyline>
                            <line x1="12" y1="15" x2="12" y2="3"></line>
                        </svg>
                        Download PDF Resume
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Professional Summary -->
{% if profile.summary %}
<section style="padding: var(--spacing-lg) 0; background-color: var(--color-bg-secondary);">
    <div class="Container">
        <h2 class="SectionHeader__title">Professional Summary</h2>
        <div style="max-width: 800px; color: var(--color-text-secondary); line-height: 1.7;">
            {{ profile.summary|safe }}
        </div>
    </div>
</section>
{% endif %}

<!-- Experience Section -->
{% if experiences %}
<section style="padding: var(--spacing-lg) 0;">
    <div class="Container">
        <h2 class="SectionHeader__title">Experience</h2>
        <div class="Timeline">
            {% for exp in experiences %}
            <div class="Timeline__item">
                <div class="Timeline__dot"></div>
                <div class="Timeline__content">
                    <h3 class="Timeline__position">{{ exp.position }}</h3>
                    <div class="Timeline__company">at {{ exp.company }}{% if exp.location %} • {{ exp.location }}{% endif %}</div>
                    <div class="Timeline__date">
                        {{ exp.start_date|date:"M Y" }} — {% if exp.is_current %}Present{% else %}{{ exp.end_date|date:"M Y" }}{% endif %}
                        <span style="color: var(--color-text-tertiary); margin-left: 0.5rem;">({{ exp.duration }})</span>
                    </div>
                    {% if exp.company_description %}
                    <div style="color: var(--color-text-tertiary); font-size: 0.875rem; margin-bottom: var(--spacing-sm); font-style: italic;">
                        {{ exp.company_description }}
                    </div>
                    {% endif %}
                    <div class="Timeline__description">{{ exp.description|safe }}</div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Skills Section -->
{% if skills %}
<section style="padding: var(--spacing-lg) 0; background-color: var(--color-bg-secondary);">
    <div class="Container">
        <h2 class="SectionHeader__title">Skills</h2>

        {% if skills_by_category %}
            <div style="display: grid; gap: var(--spacing-md); max-width: 1000px;">
                {% for category, category_skills in skills_by_category.items %}
                <div>
                    <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: var(--spacing-sm); color: var(--color-text-primary);">
                        {{ category }}
                    </h3>
                    <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                        {% for skill in category_skills %}
                        <span class="Tag">{{ skill.name }}</span>
                        {% endfor %}
                    </div>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; max-width: 1000px;">
                {% for skill in skills %}
                <span class="Tag">{{ skill.name }}</span>
                {% endfor %}
            </div>
        {% endif %}
    </div>
</section>
{% endif %}

<!-- Key Achievements Section -->
{% if achievements %}
<section style="padding: var(--spacing-lg) 0;">
    <div class="Container">
        <h2 class="SectionHeader__title">Key Achievements</h2>
        <div style="display: grid; gap: var(--spacing-md); max-width: 1000px;">
            {% for achievement in achievements %}
            <div class="Card" style="padding: var(--spacing-md); background-color: var(--color-bg-card); border-radius: var(--border-radius); border: 1px solid var(--color-border);">
                <div style="display: flex; gap: var(--spacing-sm); align-items: start;">
                    {% if achievement.icon %}
                    <div style="font-size: 1.5rem; flex-shrink: 0;">{{ achievement.icon }}</div>
                    {% else %}
                    <div style="width: 8px; height: 8px; background-color: var(--color-green); border-radius: 50%; margin-top: 0.5rem; flex-shrink: 0;"></div>
                    {% endif %}
                    <div>
                        <h3 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 0.25rem;">{{ achievement.title }}</h3>
                        <p style="color: var(--color-text-secondary); line-height: 1.6;">{{ achievement.description }}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Certifications Section -->
{% if certifications %}
<section style="padding: var(--spacing-lg) 0; background-color: var(--color-bg-secondary);">
    <div class="Container">
        <h2 class="SectionHeader__title">Certifications</h2>
        <div style="display: grid; gap: var(--spacing-sm); max-width: 800px;">
            {% for cert in certifications %}
            <div style="padding: var(--spacing-sm); border-left: 3px solid var(--color-accent);">
                <h3 style="font-size: 1rem; font-weight: 600; margin-bottom: 0.25rem;">{{ cert.name }}</h3>
                <div style="color: var(--color-text-secondary); font-size: 0.875rem;">
                    {{ cert.provider }}{% if cert.date_obtained %} • {{ cert.date_obtained|date:"Y" }}{% endif %}
                </div>
                {% if cert.credential_url %}
                <div style="margin-top: 0.5rem;">
                    <a href="{{ cert.credential_url }}" target="_blank" rel="noopener noreferrer" style="color: var(--color-accent); font-size: 0.875rem; text-decoration: none;">
                        View Credential →
                    </a>
                </div>
                {% endif %}
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- CTA Section -->
<section class="hide-on-print" style="padding: var(--spacing-xl) 0;">
    <div class="Container">
        <div style="text-align: center; max-width: 600px; margin: 0 auto;">
            <h2 style="font-size: 2rem; margin-bottom: var(--spacing-sm);">Let's Work Together</h2>
            <p style="color: var(--color-text-secondary); margin-bottom: var(--spacing-md);">
                Interested in collaborating? Download my full resume or get in touch.
            </p>
            <div style="display: flex; gap: var(--spacing-sm); justify-content: center; flex-wrap: wrap;">
                <button onclick="window.print()" class="Button Button--primary">Download PDF</button>
                <a href="mailto:{{ profile.email }}" class="Button Button--secondary">Contact Me</a>
            </div>
        </div>
    </div>
</section>
{% endblock %}
